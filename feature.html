<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <link rel="stylesheet" type="text/css" href="bulma.min.css">
  </head>
  <body>

    <div class="container">
      <div class="main">
        <div class="head borderBottom">
          <h1 class="title">Script</h1>
          <a href="/">
            <div class="button voltar">
              Voltar
            </div>
          </a>
        </div>
        
        <div class="body">

          <div id="select" class="is-hidden">
            <h1 id="classificacao" class="title notMarginBottom">Selecione uma classificação</h1>
            <div class="buttons is-flex is-centered">
              <button class="button" value="0">
                KNN
              </button>
              <button class="button" value="1">
                RandomForest
              </button>
              <button class="button" value="2">
              Support Vector Machines 
            </button>
            <button class="button" value="3">
              Dissimilaridade
            </button>
            <button class="button" value="4">
              Fusão
            </button>
          </div>
        </div>

        <div id="output" class="is-bold">
          
        </div>

        </div>
      </div>
    </div>

    <script src="https://code.jquery.com/jquery-1.9.1.js"></script>
    <script src="/socket.io/socket.io.js"></script>

    <script>
      $(function (){
        var socket = io.connect("http://localhost:3000/run");

        // socket.on('action', function (msg) {
        //   console.log("teste")
        //   getAction(msg.data)
        // })

        // $('#select .buttons .button').click(function (e) {
        //   var valor = $(this).val();
        //   var nome = $(this).text();
        //   socket.emit("selector", valor);
        //   $('#classificacao').text(nome)
        // });

        // function getAction (act) {
        //   switch (true){
        //     case (act === 'class'):
        //       $('.body #select').removeClass('is-hidden');
        //       // outputDisable()
        //       break
        //     case (act === "loading"):
        //       console.log("loading teste")
        //       break
              
        //     default:
        //       console.log("comando desconhecido")
        //       break
        //   }
        // }
            
        // function outputEnable(){
        //   $('.body #output').removeClass('is-hidden');
        // }
        
        // function outputDisable(){
        //   $('.body #output').addClass('is-hidden');
        // }

        function output(msg) {
          // outputEnable()
          $('.body #output').append($('<h4>').text(msg.data));
          }
          
          socket.on('output-update', function (msg) {
            console.log("teste")
          output(msg)
        })


      });
    </script>

  </body>
</html>